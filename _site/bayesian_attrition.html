<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Hayley Hadges: Predicting Employee Attrition Using Bayesian Classification</title>

  <meta property="description" itemprop="description" content="Bayesian Analysis Final Project"/>



  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Hayley Hadges: Predicting Employee Attrition Using Bayesian Classification"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Bayesian Analysis Final Project"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Hayley Hadges"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Hayley Hadges: Predicting Employee Attrition Using Bayesian Classification"/>
  <meta property="twitter:description" content="Bayesian Analysis Final Project"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","site"]}},"value":[{"type":"character","attributes":{},"value":["Predicting Employee Attrition Using Bayesian Classification"]},{"type":"character","attributes":{},"value":["Bayesian Analysis Final Project\n"]},{"type":"character","attributes":{},"value":["distill::distill_website"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      50px;
    --body-size:       1.06rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     #000000;
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       18px;
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  /*-- Additional custom styles --*/
  /* Add any additional CSS rules below                      */
  </style>
  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */

  @import url('https://fonts.googleapis.com/css2?family=Prompt');
  @import url('https://fonts.googleapis.com/css2?family=Lato');

  html {
    /*-- Main font sizes --*/
    --title-size:      50px;
    --body-size:       1.06rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     #272E48;
    --header-color:    rgba(122,58,44, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(187,175,184, 0.6);
    --fig-cap-color:   rgba(187,175,184, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    'Prompt', sans-serif;
    --mono-font:       monospace;
    --body-font:       'Lato', sans-serif;
    --navbar-font:     'Prompt', sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(187,175,184, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       18px;
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #7A3A2C;
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #7A3A2C;
  }

  /*-- Additional custom styles --*/
  /* Add any additional CSS rules below                      */
  </style>
  <style type="text/css">
  /* base style */

  /* FONT FAMILIES */

  :root {
    --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  body,
  .posts-list .post-preview p,
  .posts-list .description p {
    font-family: var(--body-font), var(--body-default);
  }

  h1, h2, h3, h4, h5, h6,
  .posts-list .post-preview h2,
  .posts-list .description h2 {
    font-family: var(--heading-font), var(--heading-default);
  }

  d-article div.sourceCode code,
  d-article pre code {
    font-family: var(--mono-font), var(--mono-default);
  }


  /*-- TITLE --*/
  d-title h1,
  .posts-list > h1 {
    color: var(--title-color, black);
  }

  d-title h1 {
    font-size: var(--title-size, 50px);
  }

  /*-- HEADERS --*/
  d-article h1,
  d-article h2,
  d-article h3,
  d-article h4,
  d-article h5,
  d-article h6 {
    color: var(--header-color, rgba(0, 0, 0, 0.8));
  }

  /*-- BODY --*/
  d-article > p,  /* only text inside of <p> tags */
  d-article > ul, /* lists */
  d-article > ol {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
    font-size: var(--body-size, 1.06rem);
  }


  /*-- CODE --*/
  d-article div.sourceCode code,
  d-article pre code {
    font-size: var(--code-size, 14px);
  }

  /*-- ASIDE --*/
  d-article aside {
    font-size: var(--aside-size, 12px);
    color: var(--aside-color, rgba(0, 0, 0, 0.6));
  }

  /*-- FIGURE CAPTIONS --*/
  figure .caption,
  figure figcaption,
  .figure .caption {
    font-size: var(--fig-cap-size, 13px);
    color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
  }

  /*-- METADATA --*/
  d-byline h3 {
    font-size: var(--heading-size, 0.6rem);
    color: var(--heading-color, rgba(0, 0, 0, 0.5));
  }

  d-byline {
    font-size: var(--body-size, 0.8rem);
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  d-byline a,
  d-article d-byline a {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  /*-- TABLE OF CONTENTS --*/
  .d-contents nav h3 {
    font-size: var(--heading-size, 18px);
  }

  .d-contents nav a {
    font-size: var(--contents-size, 13px);
  }

  /*-- APPENDIX --*/
  d-appendix h3 {
    font-size: var(--heading-size, 15px);
    color: var(--heading-color, rgba(0, 0, 0, 0.65));
  }

  d-appendix {
    font-size: var(--text-size, 0.8em);
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  d-appendix d-footnote-list a.footnote-backlink {
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  .distill-site-header .title {
    font-size: var(--title-size, 18px);
    font-family: var(--navbar-font), var(--heading-default);
  }

  .distill-site-header a,
  .nav-dropdown .nav-dropbtn {
    font-family: var(--navbar-font), var(--heading-default);
  }

  .nav-dropdown .nav-dropbtn {
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    font-size: var(--text-size, 15px);
  }

  .distill-site-header a:hover,
  .nav-dropdown:hover .nav-dropbtn {
    color: var(--hover-color, white);
  }

  .distill-site-header {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer a:hover {
    color: var(--hover-color, white);
  }</style>
  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
  <script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Predicting Employee Attrition Using Bayesian Classification","description":"Bayesian Analysis Final Project","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">Hayley Hadges</a>
</div>
<div class="nav-right">
<a href="index.html">About</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Projects
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="project.html">MN Computer Science K-12 Availability Analysis</a>
<a href="slasher_survival.html">Slasher Survival Analysis</a>
<a href="bayesian_attrition.html">Predicting Employee Attrition using Bayesian Classification</a>
</div>
</div>
<a href="https://www.linkedin.com/in/hayley-h-51a524107/">
<i class="fa fa-linkedin" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Predicting Employee Attrition Using Bayesian Classification</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Bayesian Analysis Final Project</p></p>
</div>


<div class="d-article">
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
h1, h2, h3 {
      text-align: center;
}
h1 {
  font-size: 56px;
}
h2 {
  font-size: 48px;
}
h3 {
  font-size: 36px;
}

</style>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h1 id="introduction"><strong>Introduction</strong></h1>
<h2 id="the-business-problem">The Business Problem</h2>
<p>As data has grown globally, so has its usage. For businesses, data analytics has become quite a powerful tool. Over the years, it has become more beneficial for businesses to become data-driven. Used to drive strategy, maximize efficiencies and sales, identify new opportunities, and much more–businesses can use data analytics to leverage insights to make wise business decisions.</p>
<p>Developing strategies through data analysis might require descriptive, diagnostic, predictive, or prescriptive methods. The focus of this work will be on predictive modeling, specifically <strong>classification modeling</strong>. Classification modeling uses supervised learning methods to predict the class or category of new data. Countless business scenarios can use this type of data modeling, and every business could profit from utilizing them. A hotel could profit from predicting whether or not a booking will be canceled, a service company could profit from predicting whether or not a customer will cancel their subscription, and a marketing team could profit from predicting whether or not consumers will respond positively to their marketing campaigns.</p>
<p>Although many business scenarios would benefit from classification modeling, <strong>for this work, I will focus on employee attrition</strong>. Businesses hire employees, fire employees, and lose them through other means. Attrition impacts all businesses, and there is a great motivation to understand the driving factors of employee attrition and minimize it. Just like businesses work to keep their customers from leaving their services, businesses also work to keep their employees from leaving the company. Losing employees represents a significant loss to the company– not only does it cause a disruption in the business, but it also costs time, money, and effort recruiting a replacement, hiring that replacement, and training them. While attrition cannot be completely eliminated, it can be cut off through an improved understanding of the workforce and targeted intervention. There would be multiple advantages from building a classification model that accurately predicts which employees are likely to quit. It could shed light on the relationships between employee characteristics and their likelihood of attrition, which would provide HR with a better understanding of their workforce and push them to implement widespread changes. Discovering employees with a higher likelihood of attrition would also provide HR the opportunity to step in and resolve any potential situations before these employees leave.</p>
<p>Now that I have discussed the business scenario and the importance of building a classification model to predict employee attrition, I will describe my approach to building such models.</p>
<h2 id="the-bayesian-approach">The Bayesian Approach</h2>
<p>In this analysis, I will be using Bayesian statistics, an approach to data analysis that combines one’s prior knowledge with new evidence to inform the probability of an event or outcome. This method of statistical inference is based on Bayes’ Theorem, a mathematical formula that updates prior probabilities <em>(i.e., the belief about the likelihood of the event occurring)</em> based on new data <em>(i.e., the information that the new data provides about the likelihood of the event occurring)</em>. Instead of returning a single posterior probability, the theorem produces a full posterior distribution of the given parameter.</p>
<p>If the prior knowledge is weak or unreliable, the data will be weighted more heavily when determining the posterior probability distribution. If the new data is unreliable or minimal, the prior knowledge will be more heavily weighted. <strong>In simple terms, Bayesian statistics depend on both the probability of the observed data and prior knowledge while finding a balance between the two.</strong></p>
<h2 id="the-bayesian-models">The Bayesian Models</h2>
<p>I will briefly go over the three Bayesian models I will build: logistic regression, LASSO logistic regression, and Naive Bayes. Naive Bayes and logistic regression are two popular models used for classification, whose algorithms are similar yet different in many ways. I will briefly go over their differences first and then describe how LASSO logistic regression differs from regular logistic regression.</p>
<p><strong>Logistic Regression:</strong></p>
<ul>
<li><em>Discriminative model</em>: models the decision boundary between the classes</li>
<li>Only used for binary response variables</li>
<li>Can use coefficients to interpret relationships between variables</li>
</ul>
<p><strong>Naive Bayes:</strong></p>
<ul>
<li><em>Generative model</em>: models the actual distribution of each class</li>
<li>Can be used for categorical response variables with two or more categories</li>
<li>Cannot explore the relationship between variables</li>
<li>Called naive for its naive assumption that all features are independent of each other, which is not always accurate</li>
<li>Higher bias but lower variance</li>
<li>Computationally efficient</li>
</ul>
<p><strong>LASSO Logistic Regression</strong> is similar to regular logistic regression, except it utilizes regularization through shrinkage priors. It imposes a constraint on the model parameters that causes the coefficients for some variables to shrink toward zero, keeping the more critical variables the same. This technique effectively increases the bias of the model in order to lower its variance. This method is excellent for feature selection when there is high dimensional data <em>(ie when there are many variables compared to the number of observations)</em> and can be useful for improving predictions.</p>
<h2 id="the-motivation">The Motivation</h2>
<p>I will build, interpret, and evaluate the posterior models in this work. For each model, I will walk through determining the model distribution, specifying priors, and setting up the posterior model. I will also show how to interpret these models, and then evaluate their accuracy all together at the end. Throughout the work, I will provide both the code and the results so that they may be replicated on this dataset or tweaked and used on another dataset.</p>
<p>I hope this work can explain and illustrate the benefits of utilizing Bayesian statistics for business intelligence analytics. I would like to introduce analysts to Bayesian modeling techniques and encourage them to employ these techniques, using my code and output as a reference if helpful. While there is work that describes the purpose and math behind Bayesian modeling and techniques, and some that show model outputs, minimal work walks through each step while providing the actual code. In providing examples of how to construct Bayesian models, interpret them, and evaluate them while providing the code and the output, I hope analysts may replicate or further research the techniques for future usage.</p>
<div style="page-break-after: always;"></div>
<h1 id="the-data"><strong>The Data</strong></h1>
<p>The dataset I will use for my analysis details roughly 1,500 employees of a fictitious company. The data includes employees who currently work for the company and employees who have left the company. It contains 30 additional variables for each employee, including gender, age, and if they work overtime. This data was created by IBM and can be downloaded from Kaggle <a href="https://www.kaggle.com/pavansubhasht/ibm-hr-analytics-attrition-dataset">here</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Import data, remove unused variables</span>
<span class='va'>Emp_Attrition</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"attrition.csv"</span><span class='op'>)</span>

<span class='va'>Emp_Attrition</span> <span class='op'>&lt;-</span>
 <span class='va'>Emp_Attrition</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>Attrition <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>Attrition</span><span class='op'>==</span><span class='st'>"Yes"</span>, <span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>Age <span class='op'>=</span> <span class='st'>"ï..Age"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>Attrition</span>, <span class='va'>Age</span>, <span class='va'>EnvironmentSatisfaction</span>, <span class='va'>Gender</span>, <span class='va'>JobInvolvement</span>, <span class='va'>JobSatisfaction</span>, <span class='va'>StockOptionLevel</span>, <span class='va'>TrainingTimesLastYear</span>, <span class='va'>WorkLifeBalance</span>, <span class='va'>OverTime</span>, <span class='va'>NumCompaniesWorked</span>, <span class='va'>YearsInCurrentRole</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="data-dictionary">Data Dictionary</h2>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<table class="table table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Descrition
</th>
<th style="text-align:left;">
Data Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>Attrition</code>
</td>
<td style="text-align:left;">
Whether or not employee leaves company (0,1).
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>Age</code>
</td>
<td style="text-align:left;">
Age of employee.
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>EnvironmentSatisfaction</code>
</td>
<td style="text-align:left;">
0 - 4 rating of employee’s environment satisfaction (1 = ‘Low’, 2 = ‘Medium’, 3 = ‘High’, 4 = ‘Very High’).
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>Gender</code>
</td>
<td style="text-align:left;">
Gender of employee (Female, Male).
</td>
<td style="text-align:left;">
Character
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>JobInvolvement</code>
</td>
<td style="text-align:left;">
0 - 4 rating of employee’s involvement (1 = ‘Low’, 2 = ‘Medium’, 3 = ‘High’, 4 = ‘Very High’).
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>JobSatisfaction</code>
</td>
<td style="text-align:left;">
0 - 4 rating of employee’s job satisfaction (1 = ‘Low’, 2 = ‘Medium’, 3 = ‘High’, 4 = ‘Very High’).
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>StockOptionLevel</code>
</td>
<td style="text-align:left;">
How much company stocks employee owns.
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>TrainingTimesLastYear</code>
</td>
<td style="text-align:left;">
Number of training sessions employees received the previous year.
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>WorkLifeBalance</code>
</td>
<td style="text-align:left;">
0 - 4 rating of employee work/life balance (1 = ‘Bad’, 2 = ‘Good’, 3 = ‘Better’, 4 = ‘Best’).
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>OverTime</code>
</td>
<td style="text-align:left;">
Whether or not the employee works overtime (Yes, No).
</td>
<td style="text-align:left;">
Character
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>NumCompaniesWorked</code>
</td>
<td style="text-align:left;">
Number of companies employee has worked at previously.
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>YearsInCurrentRole</code>
</td>
<td style="text-align:left;">
Number of years employee has worked their current role.
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
</tbody>
</table>
</div>
<div style="page-break-after: always;"></div>
<h1 id="logistic-regressionbuilding-the-model"><strong>Logistic Regression–Building the Model</strong></h1>
<h2 id="specify-the-data-model">Specify the Data Model</h2>
<p>We will start with our predicted variable, <code>Attrition</code>. Because this is a binary categorical response variable, we let <span class="math inline">\(Y_i\)</span> be the 0 or 1 indicator of whether or not any given employee i quits. <em>When importing the dataset, we mutated this variable to reflect this.</em></p>
<p><span class="math display">\[Y = \begin{cases}
 1 &amp; \text{Employee Leaves Company} \\
 0 &amp; \text{Employee does not Leave Company} \\
\end{cases}\]</span></p>
<p>Since <span class="math inline">\(Y_i\)</span> is a discrete binary variable, the Bernoulli probability model is the most appropriate model structure for the response variable.</p>
<p><span class="math display">\[Y_i|π_i∼Bern(π_i)\text{ where } π_i \text{ denotes the probability of attrition for employee i}.\]</span></p>
<p>Now we must describe how the probability of attrition <span class="math inline">\(π_i\)</span> depends on our predictors, <span class="math inline">\((X_1, X_2, ... X_{11})\)</span> by writing the Bernoulli mean <span class="math inline">\(π_i\)</span> as a linear function of the predictors. We will assume that <span class="math inline">\(π_i\)</span> depends on our predictors through the logit link function <span class="math inline">\(g(π_i)=log(\frac{π_i}{1-π_i})\)</span>, which evaluates the log(odds of attrition) to be linearly related to our predictors.</p>
<p><span class="math inline">\(Y_i|β_{0c},β_1,β_2,...β_{11} ind∼Bern(π_i) \text{ with } log (\frac{π_i}{1−π_i})=β_{0c}+β_1X_{1+}β_2X_{2}+...+β_{11}X_{11}\)</span></p>
<h2 id="specify-the-priors">Specify the Priors</h2>
<p>Alone, the model we specified previously is a simple logistic regression model. It does not take into account any prior knowledge we might have about the predictors or the predicted variable, and this is where the Bayesian techniques come into play. We can incorporate prior models for the logistic regression parameters <span class="math inline">\(β_{0c}, β_1 ... β_{11}\)</span> to go from a frequentist model to a Bayesian model. So just as <span class="math inline">\(π_i\)</span> is written as a linear function of <span class="math inline">\((X_1, X_2, ... X_{11})\)</span>, we can write each regression parameter as a linear function. <strong>To simplify the model and stay consistent with the <code>rstanarm</code> framework we will use, we will make the assumption that all prior models of these regression parameters are independent of each other.</strong></p>
<p>To determine the structure of these priors, we must consider what values these parameters could take. The intercept and slope regression parameters can take any values in the real line, meaning the model line can cross anywhere on the y-axis, and the slope of the line can be any value: positive, negative, or 0. To this end, we will specify these prior models as Normal, since Normal models can also take any values on the real line.</p>
<p>I will write out a couple of these prior models as examples: <span class="math display">\[β_{0c}\text{ ~ }N(m_0, s_0^2)\]</span> <span class="math display">\[β_{1}\text{ ~ } N(m_1, s_1^2)\]</span></p>
<p><span class="math display">\[β_{11}\text{ ~ } N(m_{11}, s_{11}^2)\]</span></p>
<p>Next, we will tune our prior models for the parameter coefficients <span class="math inline">\((β_{0c},β_1...β_{11})\)</span>.</p>
<p>I will manually calculate the hyperparameters <span class="math inline">\((m_0, s_0)\)</span> of the centered intercept <span class="math inline">\(β_{0c}\)</span>. We use the centered intercept in place of the model baseline <span class="math inline">\(β_0\)</span> because it is more intuitive. The centered intercept reflects the typical attrition at the typical values for each predictor, whereas the model baseline would reflect the attrition when all predictors are at 0 or at what the model assumes is the baseline. It is this centered intercept we will calculate that we will use to simulate our logistic regression model.</p>
<p>Onto the calculation: from our data, we can calculate that 16% of all the employees have left the company. We have a prior understanding that there’s a roughly 16% chance that the average employee will leave the company, so <span class="math inline">\(π ≈ 0.16\)</span>.</p>
<p>We can calculate the prior mean for <span class="math inline">\(β_{0c}\)</span> on the log(odds) scale: <span class="math display">\[log(\frac{.16}{1-.16}) = -1.66\]</span> We have a vague understanding that the log(odds of attrition) might range from roughly -3.32 to 0 (−1.66±2∗0.83). Since this is not very meaningful, we can transform this to find the odds and probability of attrition for an average employee.</p>
<p><span class="math display">\[\text{odds: } (e^{-3.32}, e^0) = (0.036, 1)\]</span> <span class="math display">\[\text{probability: } (\frac{.036}{1+.036}, \frac{1}{1+1}) = (.035,0.5)\]</span> From this we can determine:</p>
<ul>
<li>the odds of attrition for an average employee could be somewhere between 0.036 and 1.</li>
<li>the probability of attrition for an average employee could be somewhere between 0.035 and 0.5.</li>
</ul>
<p>There is quite a bit of variance in our prior understanding of the probability of the average employee quitting. This large variance means our prior understanding is not very informative, so <strong>we can call this a weak prior</strong>.</p>
<p>Now that we have manually calculated the centered intercept, we will utilize the default framework of the prior models used by the <code>rstanarm</code> package to tune the rest of the hyperparameters to match our prior understanding of our model parameters <span class="math inline">\((β_{0c},β_1...β_{11})\)</span>. To do this, we will use the Markov chain Monte Carlo (MCMC) simulation techniques from the <code>rstan</code> package. Markov chains essentially mimic a random sample that eventually converges to the posterior. Each iterative sample depends on the previous sample; the samples are not independent and are not taken directly from the posterior pdf.</p>
<p>We will use <code>stan_glm()</code> to simulate 20,000 sets of parameters <span class="math inline">\((β_{0c},β_1...β_{11})\)</span> from the prior models using MCMC, allowing us to specify our weakly informative priors. By setting <code>prior_PD</code> to <code>TRUE</code>, we simulate the prior model <em>(we change this to <code>FALSE</code> to simulate the posterior model)</em>. We set the <code>family</code> to <code>binomial</code> to show that our logistic regression model has a data structure specified by a Bernoulli model. We can use the prior centered mean for <span class="math inline">\(β_{0c}\)</span> that we calculated on the log(odds) scale to set the <code>prior_intercept</code> with a standard deviation of half its magnitude. Since we are unsure about our prior parameters, we set <code>autoscale</code> to <code>TRUE</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Simulate prior models</span>
<span class='va'>attrition_logistic_model_priors</span> <span class='op'>&lt;-</span> <span class='fu'>stan_glm</span><span class='op'>(</span>
  <span class='va'>Attrition</span> <span class='op'>~</span><span class='va'>.</span>,
  prior_intercept <span class='op'>=</span> <span class='fu'>normal</span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.66</span>, <span class='fl'>.8</span><span class='op'>)</span>,
  prior <span class='op'>=</span> <span class='fu'>normal</span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2.5</span>, autoscale <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, 
  data <span class='op'>=</span> <span class='va'>Emp_Attrition</span>,
  family <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/family.html'>binomial</a></span><span class='op'>(</span><span class='op'>)</span>,
  prior_PD <span class='op'>=</span> <span class='cn'>TRUE</span>,
  chains <span class='op'>=</span> <span class='fl'>4</span>, iter <span class='op'>=</span> <span class='fl'>5000</span><span class='op'>*</span><span class='fl'>2</span>, seed <span class='op'>=</span> <span class='fl'>84735</span>, refresh <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Next we’ll use <code>prior_summary()</code> to find the adjusted prior parameters from the simulations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>priors</span> <span class='op'>&lt;-</span> <span class='fu'>prior_summary</span><span class='op'>(</span><span class='va'>attrition_logistic_model_priors</span><span class='op'>)</span>
<span class='va'>priors</span><span class='op'>$</span><span class='va'>prior</span><span class='op'>$</span><span class='va'>adjusted_scale</span>
</code></pre>
</div>
<pre><code> [1] 0.2736615 2.2871107 5.1013676 3.5134015 2.2668620 2.9340083
 [7] 1.9390809 3.5386915 5.5480786 1.0007970 0.6900098</code></pre>
</div>
<p>With our priors, we can write out our complete model:</p>
<span class="math display">\[\begin{array}{rll}
Y_i | β_{0c},β_1,β_2,... β_{12}, \sigma &amp; \stackrel{ind}{\sim} \text{Bern}(\pi_i) &amp; \text{with } \log\left(\frac{\pi_i}{1 - \pi_i}\right) = β_{0c}+β_1X_{i1+}β_2X_{i2}+...+β_{11}X_{i11} \\


\beta_{0c} &amp; \sim N(-.72, .36^2) &amp; \\
\beta_1    &amp; \sim N(0,  0.27^2) &amp; \\
\beta_2    &amp; \sim N(0, 2.29^2) &amp; \\
\beta_3    &amp; \sim N(0, 5.1^2) &amp; \\
\beta_4    &amp; \sim N(0, 3.51^2) &amp; \\
\beta_5    &amp; \sim N(0, 2.27^2) &amp; \\
\beta_6    &amp; \sim N(0,  2.93^2) &amp; \\
\beta_7    &amp; \sim N(0,  1.94^2) &amp; \\
\beta_8    &amp; \sim N(0,  3.54^2) &amp; \\
\beta_9    &amp; \sim N(0,  5.55^2) &amp; \\
\beta_{10}    &amp; \sim N(0,  1.0^2) &amp; \\
\beta_{11}    &amp; \sim N(0,  0.69^2) &amp; \\
\end{array}\]</span>
<h2 id="simulate-the-posterior">Simulate the Posterior</h2>
<p>Next, we will update our prior understanding of the relationships between attrition and our predictors using data to reach our posterior.</p>
<p>We can use the <code>update()</code> function to set our model’s <code>prior_PD</code> to <code>FALSE</code>, in effect simulating our posterior model using MCMC techniques with the same model features as the prior model <code>attrition_logistic_model_priors</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Simulate posterior models</span>
<span class='va'>attrition_logistic_model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span><span class='op'>(</span><span class='va'>attrition_logistic_model_priors</span>, prior_PD <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="check-simulation-stability">Check Simulation Stability</h2>
<p>Since MCMC simulations only approximate the posterior, and we cannot compare our simulation results to the “true” posterior, it is crucial to check up on our simulations before continuing with our model to make sure the chains are stable. We do this by running some diagnostic tests.</p>
<p>To see if there is consistency across the four chains we simulated, we can use <code>mcmc_dens_overlay</code>. It is okay and expected that the chains take different paths, but they should have similar features and produce similar posterior approximations.</p>
<p>Because chains for each variable produce similar posterior approximations, we can say that our simulation is both stable and has enough iterations. Running more iterations would not likely construct much different or improved posterior approximations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>mcmc_dens_overlay</span><span class='op'>(</span><span class='va'>attrition_logistic_model</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-10-1.png" width="816" /></p>
</div>
<p>With a stable simulation, the trace plots produced by <code>mcmc_trace()</code> should essentially look like white noise, without resembling anything or hinting at any trends. None of the trace plots have any discernible trends or outliers, so we can say it is stable. With this, we can proceed to interpret the model output.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>mcmc_trace</span><span class='op'>(</span><span class='va'>attrition_logistic_model</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-11-1.png" width="816" /></p>
</div>
<div style="page-break-after: always;"></div>
<h1 id="logistic-regressioninterpreting-the-model"><strong>Logistic Regression–Interpreting the Model</strong></h1>
<p>I will use the posterior <code>tidy()</code> summary to find the posterior medians and 80% credible intervals for the regression coefficients. By performing a simple calculation, we can transform the log(odds) estimate to odds by setting <em>e</em> to the power of the estimate. In the first row, I will illustrate the simple transformation. This transformation will allow us to describe how the odds of attrition change based on the value of the predictor variable while controlling for the other predictors. I will pick out a couple of coefficients for interpretation, but all coefficients can be interpreted similarly.</p>
<p>These interpretations could give HR an idea of what factors have the most substantial influence over the odds of attrition. While some of the interpretations may seem obvious <em>(i.e., greater job work/life balance leads to decreased odds of attrition)</em>, the magnitude of these coefficients’ impact on the attrition odds can convey what HR might focus on for minimizing attrition overall.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Show model coefficients for interpretation</span>
<span class='fu'>tidy</span><span class='op'>(</span><span class='va'>attrition_logistic_model</span>, conf.int <span class='op'>=</span> <span class='cn'>TRUE</span>, conf.level <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 x 5
   term                    estimate std.error conf.low conf.high
   &lt;chr&gt;                      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
 1 (Intercept)               4.27      0.651    3.44      5.13  
 2 Age                      -0.0589    0.0102  -0.0720   -0.0460
 3 EnvironmentSatisfaction  -0.334     0.0735  -0.430    -0.243 
 4 GenderMale                0.301     0.166    0.0869    0.513 
 5 JobInvolvement           -0.552     0.110   -0.691    -0.413 
 6 JobSatisfaction          -0.330     0.0719  -0.421    -0.239 
 7 StockOptionLevel         -0.512     0.106   -0.650    -0.377 
 8 TrainingTimesLastYear    -0.112     0.0662  -0.198    -0.0298
 9 WorkLifeBalance          -0.259     0.109   -0.400    -0.118 
10 OverTimeYes               1.62      0.168    1.41      1.84  
11 NumCompaniesWorked        0.114     0.0329   0.0714    0.156 
12 YearsInCurrentRole       -0.109     0.0268  -0.144    -0.0744</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<table class="table table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Posterior Median Coefficient Transofrmation
</th>
<th style="text-align:left;">
80% Confidence Interval Transformation
</th>
<th style="text-align:left;">
Interpretation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>Age</code>
</td>
<td style="text-align:left;">
e^(-0.059) = 0.943
</td>
<td style="text-align:left;">
(e^(-0.072), e^(-0.046)) = (0.931,0.955)
</td>
<td style="text-align:left;">
Each additional year the average employee has lived, the odds of attrition <strong>decrease by about 5.7%</strong>, or somewhere between 4.5% and 6.9%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>JobInvolvement</code>
</td>
<td style="text-align:left;">
0.577
</td>
<td style="text-align:left;">
(0.501,0.662)
</td>
<td style="text-align:left;">
Each additional rating in job involvement the odds of attrition <strong>decrease by about 42%</strong>, or somewhere between 33% and 50%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>TrainingTimesLastYear</code>
</td>
<td style="text-align:left;">
0.894
</td>
<td style="text-align:left;">
(0.82,0.97)
</td>
<td style="text-align:left;">
Each additional training they received the year prior the odds of attrition <strong>decrease by about 11%</strong>, or somewhere between 3% and 18%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>WorkLifeBalance</code>
</td>
<td style="text-align:left;">
0.772
</td>
<td style="text-align:left;">
(0.67,0.889)
</td>
<td style="text-align:left;">
Each additional rating in work/life balance the odds of attrition <strong>decrease by about 23%</strong>, or somewhere between 11% and 33%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>OverTimeYes</code>
</td>
<td style="text-align:left;">
5.07
</td>
<td style="text-align:left;">
(4.1, 6.28)
</td>
<td style="text-align:left;">
For employees that works overtime, the odds of attrition <strong>increase by about 5 times</strong>, or somewhere between 4.1 and 6.3 times, for the average employee
</td>
</tr>
</tbody>
</table>
</div>
<div style="page-break-after: always;"></div>
<h1 id="lasso-logistic-regressionbuilding-the-model"><strong>LASSO Logistic Regression–Building the Model</strong></h1>
<p>I will go through these steps much more briefly. This model is almost identical to the previous model, so for the most part, the same steps and specifications coincide with what we have done previously.</p>
<h2 id="specify-the-data-model-1">Specify the Data Model</h2>
<p>The categorical response variable <span class="math inline">\(Y_i\)</span> does not change from the previous model, so we will use the Bernoulli probability model again.</p>
<h2 id="specify-the-priors-1">Specify the Priors</h2>
<p>The centered intercept <span class="math inline">\(β_{0c}\)</span> remains the same, and as I will show below, so do the other prior hyperparameters. Everything stays the same except the prior modeling. Instead of setting the prior to a normal distribution as we did for the regular logistic regression, we will set it to a laplace distribution with a lasso approach. More information about the lasso prior and the other prior options can be found <a href="https://mc-stan.org/rstanarm/reference/priors.html">here</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Simulate prior models</span>
 <span class='va'>attrition_lasso_model_priors</span> <span class='op'>&lt;-</span> <span class='fu'>stan_glm</span><span class='op'>(</span>
   <span class='va'>Attrition</span> <span class='op'>~</span> <span class='va'>.</span>,
   prior_intercept <span class='op'>=</span> <span class='fu'>normal</span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.66</span>, <span class='fl'>.8</span><span class='op'>)</span>,
   prior <span class='op'>=</span> <span class='fu'>lasso</span><span class='op'>(</span>df <span class='op'>=</span> <span class='fl'>1</span>, location <span class='op'>=</span> <span class='fl'>0</span>, scale <span class='op'>=</span> <span class='cn'>NULL</span>, autoscale <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
   data <span class='op'>=</span> <span class='va'>Emp_Attrition</span>,
   family <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/family.html'>binomial</a></span><span class='op'>(</span><span class='op'>)</span>,
   prior_PD <span class='op'>=</span> <span class='cn'>TRUE</span>,
   chains <span class='op'>=</span> <span class='fl'>4</span>, iter <span class='op'>=</span> <span class='fl'>5000</span><span class='op'>*</span><span class='fl'>2</span>, seed <span class='op'>=</span> <span class='fl'>84735</span>, refresh <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Again, we will use <code>prior_summary()</code> to find the adjusted prior parameters from the simulations. These match up with the priors from the regular logistic regression, meaning our complete model essentially looks identical.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"> <span class='va'>priors</span> <span class='op'>&lt;-</span> <span class='fu'>prior_summary</span><span class='op'>(</span><span class='va'>attrition_lasso_model_priors</span><span class='op'>)</span>
 <span class='va'>priors</span><span class='op'>$</span><span class='va'>prior</span><span class='op'>$</span><span class='va'>adjusted_scale</span>
</code></pre>
</div>
<pre><code> [1] 0.2736615 2.2871107 5.1013676 3.5134015 2.2668620 2.9340083
 [7] 1.9390809 3.5386915 5.5480786 1.0007970 0.6900098</code></pre>
</div>
<h2 id="simulate-the-posterior-1">Simulate the Posterior</h2>
<p>We will set the <code>prior_PD</code> to FALSE to simulate the posterior model.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Simulate posterior models</span>
 <span class='va'>attrition_lasso_model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span><span class='op'>(</span><span class='va'>attrition_lasso_model_priors</span>, prior_PD <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="check-simulation-stability-1">Check Simulation Stability</h2>
<p>Again, we will check for simulation stability for this model since we used MCMC techniques to construct the model. Both of these plots show stability similar to the regular logistic regression simulations. We can proceed to interpret the model output.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"> <span class='fu'>mcmc_dens_overlay</span><span class='op'>(</span><span class='va'>attrition_lasso_model</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-18-1.png" width="816" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"> <span class='fu'>mcmc_trace</span><span class='op'>(</span><span class='va'>attrition_lasso_model</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-19-1.png" width="816" /></p>
</div>
<h1 id="lasso-logistic-regressioninterpreting-the-model"><strong>LASSO Logistic Regression–Interpreting the Model</strong></h1>
<p>Now that we have simulated the posterior model through the same steps as the logistic regression model, one might question where the differences lie. The answer is in the logistic regression coefficients, which have shifted closer to 0. This change can be seen in the <code>tidy()</code> summary that shows us the posterior medians and 80% confidence intervals of the logistic regression coefficients. I transformed the coefficients in the same manner as the regular logistic regression coefficients.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Show model coefficients for interpretation</span>
<span class='fu'>tidy</span><span class='op'>(</span><span class='va'>attrition_lasso_model</span>, conf.int <span class='op'>=</span> <span class='cn'>TRUE</span>, conf.level <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 x 5
   term                    estimate std.error conf.low conf.high
   &lt;chr&gt;                      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
 1 (Intercept)               3.90      0.656    3.07      4.74  
 2 Age                      -0.0554    0.0100  -0.0687   -0.0428
 3 EnvironmentSatisfaction  -0.315     0.0724  -0.407    -0.221 
 4 GenderMale                0.257     0.162    0.0546    0.468 
 5 JobInvolvement           -0.518     0.109   -0.657    -0.375 
 6 JobSatisfaction          -0.309     0.0710  -0.400    -0.217 
 7 StockOptionLevel         -0.480     0.104   -0.619    -0.349 
 8 TrainingTimesLastYear    -0.0991    0.0631  -0.182    -0.0195
 9 WorkLifeBalance          -0.232     0.109   -0.370    -0.0956
10 OverTimeYes               1.56      0.165    1.35      1.78  
11 NumCompaniesWorked        0.103     0.0329   0.0608    0.144 
12 YearsInCurrentRole       -0.103     0.0270  -0.138    -0.0694</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<table class="table table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Posterior Median Coefficient Transofrmation
</th>
<th style="text-align:left;">
80% Confidence Interval Transformation
</th>
<th style="text-align:left;">
Interpretation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>Age</code>
</td>
<td style="text-align:left;">
0.946
</td>
<td style="text-align:left;">
(0.933,0.958)
</td>
<td style="text-align:left;">
Each additional year lived, the odds of attrition <strong>decrease by about 5.4%</strong>, or somewhere between 4.2% and 6.7%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>JobInvolvement</code>
</td>
<td style="text-align:left;">
0.595
</td>
<td style="text-align:left;">
(0.518,0.687)
</td>
<td style="text-align:left;">
Each additional rating in job involvement, the odds of attrition <strong>decrease by about 40.5%</strong>, or somewhere between 31.3 and 48.2%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>TrainingTimesLastYear</code>
</td>
<td style="text-align:left;">
0.905
</td>
<td style="text-align:left;">
(0.834,0.98)
</td>
<td style="text-align:left;">
Each additional training they received the year prior, the odds of attrition <strong>decrease by about 10.5%</strong>, or somewhere between 2% and 17%, for the everage employeee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>WorkLifeBalance</code>
</td>
<td style="text-align:left;">
0.772
</td>
<td style="text-align:left;">
(0.67,0.889)
</td>
<td style="text-align:left;">
Each additional rating in work/life balance, the odds of attrition <strong>decrease by about 23%</strong>, or somewhere between 11% and 33%, for the average employee
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>OverTimeYes</code>
</td>
<td style="text-align:left;">
4.78
</td>
<td style="text-align:left;">
(3.86, 5.93)
</td>
<td style="text-align:left;">
For employees that works overtime, the odds of attrition <strong>increase by about 4.8 times</strong>, or somewhere between 3.9 and 5.9 times, for the average employee
</td>
</tr>
</tbody>
</table>
</div>
<p>To better illustrate the shrinkage that occurred, I can use <code>mcmc_areas()</code> to plot the posterior distributions of the regression coefficients for both the LASSO logistic regression model and the regular logistic regression model. Although minimal, the regression coefficients for the LASSO logistic regression model have shifted closer to 0. If more of the features were modeled, it’s possible that some of the less relevant features would have shrunk to 0 more drastically. If any regression coefficients had shrunk more drastically to 0, I would consider re-building the model without that feature.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>logistic_plot</span> <span class='op'>&lt;-</span> <span class='fu'>mcmc_areas</span><span class='op'>(</span><span class='va'>attrition_logistic_model</span>, pars <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Age"</span>, <span class='st'>"EnvironmentSatisfaction"</span>, <span class='st'>"GenderMale"</span>, <span class='st'>"JobInvolvement"</span>, <span class='st'>"JobSatisfaction"</span>, <span class='st'>"StockOptionLevel"</span>, <span class='st'>"TrainingTimesLastYear"</span>, <span class='st'>"WorkLifeBalance"</span>, <span class='st'>"OverTimeYes"</span>, <span class='st'>"NumCompaniesWorked"</span>, <span class='st'>"YearsInCurrentRole"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.5</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
 <span class='fu'>labs</span><span class='op'>(</span>
   title <span class='op'>=</span> <span class='st'>"Logistic Regression Posterior Distributions"</span>,
   subtitle <span class='op'>=</span> <span class='st'>"with medians and 80% intervals"</span>
 <span class='op'>)</span>

<span class='va'>lasso_plot</span> <span class='op'>&lt;-</span> <span class='fu'>mcmc_areas</span><span class='op'>(</span><span class='va'>attrition_lasso_model</span>, pars <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Age"</span>, <span class='st'>"EnvironmentSatisfaction"</span>, <span class='st'>"GenderMale"</span>, <span class='st'>"JobInvolvement"</span>, <span class='st'>"JobSatisfaction"</span>, <span class='st'>"StockOptionLevel"</span>, <span class='st'>"TrainingTimesLastYear"</span>, <span class='st'>"WorkLifeBalance"</span>, <span class='st'>"OverTimeYes"</span>, <span class='st'>"NumCompaniesWorked"</span>, <span class='st'>"YearsInCurrentRole"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
   <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.5</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
 <span class='fu'>labs</span><span class='op'>(</span>
   title <span class='op'>=</span> <span class='st'>"LASSO Logostic Regression Posterior Distributions"</span>,
   subtitle <span class='op'>=</span> <span class='st'>"with medians and 80% intervals"</span>
 <span class='op'>)</span>

<span class='fu'>grid.arrange</span><span class='op'>(</span><span class='va'>logistic_plot</span>, <span class='va'>lasso_plot</span>, nrow <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-22-1.png" width="768" /></p>
</div>
<div style="page-break-after: always;"></div>
<h1 id="naive-bayesbuilding-the-model"><strong>Naive Bayes–Building the Model</strong></h1>
<p>When using Naive Bayes, we do not need to provide prior models or Markov chains; instead, this model calculates prior probabilities directly from the data. Thanks to this, it does not require MCMC simulations, making it more computationally efficient than logistic regression. This makes the process of building the model quite simple. We will use <code>naiveBayes()</code> to model the posterior.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Build posterior model</span>
<span class='va'>attrition_naive_model</span> <span class='op'>&lt;-</span> <span class='fu'>naiveBayes</span><span class='op'>(</span><span class='va'>Attrition</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>Emp_Attrition</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h1 id="naive-bayesinterpreting-the-model"><strong>Naive Bayes–Interpreting the Model</strong></h1>
<p>While computationally efficient, Naive Bayes has some downsides–one that I have mentioned is that it does not support any interpretation of the predictor variables’ relationships to the predicted variable. This drawback is okay only if we do not care about these relationships and require only the predicted classifications, which will depend heavily on the situation. In this case, the interpretation would be beneficial for HR. While knowing which employees are more likely to quit would help with direct intervention, understanding how these features affect the employees would allow HR to consider implementing more wide-sweeping changes to prevent overall attrition.</p>
<div style="page-break-after: always;"></div>
<h1 id="evaluating-the-models"><strong>Evaluating the Models</strong></h1>
<p>Now that we have built and interpreted the models where possible, it is time to evaluate them. Just because a model is correctly built does not mean it produces accurate predictions or should be used. It is essential to determine how wrong the models are and if the predictive accuracy is high enough to be helpful.</p>
<h2 id="how-wrong-are-the-models">How Wrong are the Models?</h2>
<p>Now we will perform a posterior predictive check to confirm that the simulated data from our posterior logistic regression model is similar to the original data to confirm that the assumptions behind our Bayesian logistic regression model are reasonable. From each of 100 posterior simulated datasets, we record the proportion of outcomes Y that are 1, <em>(i.e., the proportion of employees that leave the company)</em>, using the <code>proportion_attrition()</code> function.</p>
<h3 id="logistic-regression">Logistic Regression</h3>
<p>Using regular logistic regression, most of our posterior simulated datasets saw attrition for about 16% of employees, equal to the observed proportion of attrition in the original data. However, some saw attrition from as few as 12% of the employees or as many as 20%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>84735</span><span class='op'>)</span>
<span class='va'>proportion_attrition</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>}</span>
 <span class='fu'>pp_check</span><span class='op'>(</span><span class='va'>attrition_logistic_model</span>, nreps <span class='op'>=</span> <span class='fl'>100</span>, 
          plotfun <span class='op'>=</span> <span class='st'>"stat"</span>, stat <span class='op'>=</span> <span class='st'>"proportion_attrition"</span><span class='op'>)</span> <span class='op'>+</span> 
   <span class='fu'>xlab</span><span class='op'>(</span><span class='st'>"probability of attrition"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-24-1.png" width="816" /></p>
</div>
<h3 id="lasso-logistic-regression">LASSO Logistic Regression</h3>
<p>Using logistic regression with lasso regularisation, most of our posterior simulated datasets saw attrition for about 16% of employees (or more accurately, a little under 16% and a little over 16%), similar to the observed proportion of attrition in the original data. Some saw attrition in the same range as the simulations in the previous model (12% to 20%). This looks very similar to the regular logistic regression posterior model; however, the simulated proportions in this model are less normally distributed since there is a slight dip in the middle.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>84735</span><span class='op'>)</span>
<span class='va'>proportion_attrition</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>}</span>
  <span class='fu'>pp_check</span><span class='op'>(</span><span class='va'>attrition_lasso_model</span>, nreps <span class='op'>=</span> <span class='fl'>100</span>,
           plotfun <span class='op'>=</span> <span class='st'>"stat"</span>, stat <span class='op'>=</span> <span class='st'>"proportion_attrition"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>xlab</span><span class='op'>(</span><span class='st'>"probability of attrition"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="bayesian_attrition_files/figure-html5/unnamed-chunk-25-1.png" width="816" /></p>
</div>
<p>Based on these plots, the simulated data for both is similar to the original data, so both models could be helpful. Since the Naive Bayes does not have simulated data, checking if the model is wrong is unnecessary.</p>
<h2 id="how-accurate-are-the-posterior-predictions">How Accurate are the Posterior Predictions?</h2>
<p>To determine the accuracy of classification models, we can use sensitivity, specificity, and overall accuracy:</p>
<ul>
<li><p>The <strong>sensitivity</strong> of our posterior classifications reflects the overall proportion of employees who left the company that we correctly classified would leave <em>(i.e., the proportion of <span class="math inline">\(Y = 1\)</span> outcomes that we correctly predicted to be 1)</em>.</p></li>
<li><p>The <strong>specificity</strong> of our posterior classifications reflects the overall proportion of employees who left the company that we correctly classified as would not leave <em>(i.e., the proportion of <span class="math inline">\(Y = 0\)</span> outcomes that we correctly predicted to be 0)</em>.</p></li>
<li><p>The <strong>overall accuracy</strong> of our posterior classifications reflects the overall proportion of employees we correctly classified.</p></li>
</ul>
<p>We can use <code>classification_summary()</code> to calculate these posterior predictive outcomes for both the logistic regression and the LASSO logistic regression model. In this case, we care more about accurately predicting employees who will leave the company than employees who will not. If the fictitious company can accurately predict the employees likely to leave, HR can step in before it’s too late and try to work with the employee to keep them at the company.</p>
<p>In short, we want to maximize the sensitivity of the model while keeping the overall accuracy from dropping too low. To do this, we can alter the cut-off for the classifications of the logistic regression and LASSO logistic regression models.</p>
<p>The cut-off determines the following classification rule: <strong>If more than the cut-off our predictions predict the employee will leave the company , classify the employee as someone who will leave the company</strong></p>
<p>If we set the cut-off to the natural 0.5, then if 50% of our posterior predictions call for attrition, we’ll classify the employee as someone who will leave the company. The cut-off can be used to change the sensitivity and specificity of the predictions, lowering the cut-off increases sensitivity while decreasing specificity while raising the cut-off has the opposite effect. Because of this, the cut-off should be altered on a case by case basis. Since we want to maximize the sensitivity, we will lower the cut-off to .2. If even 20% of our posterior predictions call for attrition, we’ll classify that employee as someone who will leave the company, allowing HR to target them.</p>
<h3 id="logistic-regression-1">Logistic Regression</h3>
<p>Out of the 237 employees who quit, the logistic regression posterior predicted 159 of them accurately, accounting for a sensitivity of 67.1%.</p>
<p>Out of the 1,470 total employees, the logistic regression posterior predicted 1,144 of them accurately, accounting for an overall accuracy of 77.8%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>84735</span><span class='op'>)</span>
<span class='fu'>classification_summary</span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>attrition_logistic_model</span>, data <span class='op'>=</span> <span class='va'>Emp_Attrition</span>, cutoff <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$confusion_matrix
 y   0   1
 0 985 248
 1  78 159

$accuracy_rates
                          
sensitivity      0.6708861
specificity      0.7988646
overall_accuracy 0.7782313</code></pre>
</div>
<h3 id="lasso-logistic-regression-1">LASSO Logistic Regression</h3>
<p>Out of the 237 employees who quit, the LASSO logistic regression posterior predicted 159 of them, accounting for a sensitivity of 67.1%.</p>
<p>Out of the 1,470 total employees, the LASSO logistic regression posterior predicted 1,144 of them accurately, accounting for an overall accuracy of 77.8%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"> <span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>84735</span><span class='op'>)</span>
 <span class='fu'>classification_summary</span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>attrition_lasso_model</span>, data <span class='op'>=</span> <span class='va'>Emp_Attrition</span>, cutoff <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$confusion_matrix
 y   0   1
 0 984 249
 1  78 159

$accuracy_rates
                          
sensitivity      0.6708861
specificity      0.7980535
overall_accuracy 0.7775510</code></pre>
</div>
<h3 id="naive-bayes">Naive Bayes</h3>
<p>Like the logistic regression and the LASSO logistic regression models, we can evaluate the Naive Bayes model by its specificity, sensitivity, and accuracy using <code>naive_classification_summary()</code>.</p>
<p>The naive Bayes model classifies the employees in a different manner, where the logistic regression follows the cut-off rule, this classification follows a simple rule: <strong>classify the employee as whichever attrition value has the highest posterior probability</strong></p>
<p>Out of the 237 employees who quit, the Naive Bayes posterior predicted 60 of them, accounting for a sensitivity of 25.3%.</p>
<p>Out of the 1,470 total employees, the Naive Bayes posterior predicted 1,272 of them accurately, accounting for an overall accuracy of 86.5%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>84735</span><span class='op'>)</span>
<span class='fu'>naive_classification_summary</span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>attrition_naive_model</span>, data <span class='op'>=</span> <span class='va'>Emp_Attrition</span>, y <span class='op'>=</span> <span class='st'>"Attrition"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$confusion_matrix
 Attrition             0           1
         0 98.30% (1212)  1.70% (21)
         1 74.68%  (177) 25.32% (60)

$overall_accuracy
[1] 0.8653061</code></pre>
</div>
<h1 id="conclusion"><strong>Conclusion</strong></h1>
<h3 id="model-usefulness">Model Usefulness</h3>
<p>Based on the evaluation, I would find the logistic regression and the LASSO logistic regression models most beneficial. The differences in these models were, unfortunately, pretty minimal. The prediction accuracy for the logistic regression model and the LASSO logistic regression model were identical. The shrinkage that the LASSO technique incurred was too minimal to affect the posterior classification predictions, possibly because all of the predictors were useful and did not shrink much closer to 0. While these models misclassified 78 of the employees who left the company, they still accurately classified most of the employees who left. This accuracy would provide a good start for HR to target employees and direct their strategies for minimizing attrition.</p>
<p>In this case, I would not find the Naive Bayes model helpful. The model had poor sensitivity and misclassified most of the employees who left the company, which is our main priority for the model. This poor sensitivity is likely because I could not set a cut-off like I could for the logistic regression models. It is also possible that some of the predictors violated the assumption that all predictors are independent, for example, the predictors <code>Age</code> and <code>NumCompaniesWorked</code>. While we can use the Naive Bayes model to predict which employees are more likely to leave, without having model coefficients, we cannot interpret the variable relationships. The lack of interpretation for Naive Bayes is a major drawback in this situation, because it would not give HR a sense of how the employee profile is connected with attrition. The Naive Bayes model would only provide insight that could lead to responsive measures–not preventative measures.</p>
<h3 id="data-driven-recommendations">Data-Driven Recommendations</h3>
<p>We have built the models, interpreted them, and decided on their usefulness. Now it is finally time to put these models to work.</p>
<p>While it would be helpful for HR to target employees to reach out to and provide an incentive to stay with the company, it might be beneficial to work more in the long term. This might mean changing company policies or engaging in new initiatives that would decrease the odds of attrition throughout the company. This tactic would lean more towards preventative than responsive measures.</p>
<p>From the models I built, I could make a few recommendations to HR:</p>
<ul>
<li><p>The models show that working overtime has the most significant impact on attrition odds. HR can delve more into this issue to see if specific roles are understaffed, consider giving overtime employees extra paid time off, or implement a strict no-overtime practice that might benefit the company.</p></li>
<li><p>Job Involvement also strongly impacted attrition odds, showing that employees who felt less involved had higher odds of leaving the company. HR might consider a new initiative that fosters a more engaging company culture.</p></li>
</ul>
<p>We have gone over many steps and much content in the span of this work. <strong>I hope this work has piqued the interest or curiosity of analysts and provided a starting foundation for them to utilize the Bayesian approach for business analytics.</strong></p>
<h1 id="next-steps"><strong>Next Steps</strong></h1>
<p>There are a couple of next steps I could take with this analysis, including:</p>
<ul>
<li><strong>Modeling with a larger dataset.</strong> With under 1,500 data observations, the models I built did not have much to work with. I would be interested in simulating similar models on a larger dataset to see if the classification prediction accuracy improves.</li>
<li><strong>Predicting new data.</strong> It would be interesting to predict new employee data to see how the models perform on data outside the sample.</li>
<li><strong>Exploring other prior distributions.</strong> I would like to look more into other prior distributions to see how they might affect the parameter coefficients and the model’s accuracy.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
